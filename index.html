<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </meta>
    <meta charset="utf-8">
    </meta>
    <link id="css" rel="preload"
        href="https://fonts.gstatic.com/s/firacode/v21/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVD7MOzlojwUKQ.woff"
        as="font" type="font/woff2" crossorigin>
    </link>
    <link id="css" rel="stylesheet" type="text/css" href="https://scorchchamp.github.io/style.css" media="all">
    </link>
    <script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5779624385801311"
        crossorigin="anonymous" async></script>
    <script src="https://scorchchamp.github.io/auto-format.js"></script>
</head>
<body>
    <form>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name">
        <br>
        <label for="keywords">Keywords (comma separated):</label>
        <input type="text" id="keywords" name="keywords">
        <br><br>
        <button type="button" onclick="generatePoem()">Generate Poem</button>
    </form>
    <br>
    <div id="output"></div>

    <script>
        async function generatePoem() {
            let name = document.getElementById("name").value;
            let keywords = document.getElementById("keywords").value;
            let output = document.getElementById("output");
            fetch(`http://localhost:3000/generatePoem/${name}/${keywords}`)
                .then(data => data.json())
                .then(parsed => {
                    let poem = parsed[0].text;
                    poem = poem.replace(/\n/g, "<br>");
                    console.log({poem});
                    output.innerHTML = poem;
                })
        }
    </script>
</body>

</html>
